# CurrencyApp
ASP.NET Web API APP 

Мой вариан выполнения ТЗ:

Необходимо реализовать сервис со следующим функционалом и удовлетворяющей
требованиям:
1. База данных mysql с таблицей currency c колонками: id — первичный ключ,
name — название валюты, rate — курс валюты к рублю
2. Должна быть консольная команда для обновления данных в таблице
3. Использовать любое открытое API для валют (пр.
http://www.cbr.ru/scripts/XML_daily.asp)
4. 2 REST API метода:
-GET /currencies — должен возвращать список курсов валют с возможностью
пагинации
-GET /currency/ — должен возвращать курс валюты для переданного id
5. API должно быть закрыто авторизацией.

Реализация:
1. Бд “CurrencyDB” создаётся при инициализации.

2. Обновляется Бд нажатием кнопки Update или по адресу "~/Home/Update"

3. Все Web API закрыты авторизацией. Для Инициализации Бд зашиты или 
создания новой учётной записи требуется заполнить форму регистрации пример:
admin@mail.ru
Adm@123
Adm@123
После этого можно залогиниться и при успешном входе ваш логин отразится 
слева в поле под “User”. По нажатию кнопки “Call Api” заполнится таблица из Web API внизу страницы.
«Может потребоваться перезапуск при инициализации Бд»

4. Web api "~/api/currencies" возвращает список курсов валют
пагинация реализована через Odata пример команды "/api/currencies?$Top=2"
"/api/currency/Id" по номеру возвращает данные по Id.

Все API закрыты авторизацией поэтому требуется регистрация или токен для входа.
Зарегистрироваться можно по форме выше или послав POST запрос с помощью fiddler или 
postman на “~/api/Account/Register” указав {"Email":"alice@example.com","Password":"Password1!","ConfirmPassword":"Password1!"}
Затем надо запросить токен по адресу “/Token“. Указав в теле пример:
grant_type:password
username:admin@mail.ru
password:Adm@123
будет выглядеть в HTTP как grant_type=password&username=admin%40mail.ru&password=Adm%40123

Теперь указав в Header : Authorization: bearer «Token»
мы можем получить доступ ко всем API.
Для проверки работоспособности Web API без сложностей тэг [Authorize] в CurrenciesController надо закомментировать.
